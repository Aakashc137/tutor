<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Professional Question Paper</title>
    <style>
      body {
        font-family: "Times New Roman", Times, serif;
        margin: 40px;
        line-height: 1.6;
      }

      .header-container {
        max-height: 20vh;
        margin-bottom: 20px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }

      .header-line {
        margin: 4px 0;
      }

      .section-title-row {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin-top: 40px;
        margin-bottom: 10px;
        text-transform: uppercase;
      }

      .marks-breakdown {
        text-align: right;
        font-weight: normal;
        font-size: 1rem;
      }

      ol.question-list {
        margin: 0 0 20px 40px;
        padding: 0;
      }
      ol.question-list li {
        margin-bottom: 15px;
      }
      .question-text {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
      }
      .mcq-options {
        margin-top: 5px;
        margin-left: 20px;
        padding: 0;
        list-style-type: upper-alpha;
      }
      .mcq-options li {
        margin: 3px 0;
      }
    </style>

    <!-- Include MathJax with config for $...$ and $$...$$ -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        }
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  </head>

  <body>
    <div class="header-container">
      <h2 class="header-line">{{academyName}}</h2>
      <p class="header-line">
        Subject: {{subject}} &nbsp; | &nbsp; Grade: {{grade}}
      </p>
      <p class="header-line">
        Total Marks: {{totalMarks}} &nbsp; | &nbsp; Time: {{timeDuration}}
      </p>
    </div>

    {{#sections}}
      <div class="section-title-row">
        <h2>Section {{name}}</h2>
        <div class="marks-breakdown">
          ({{sectionNumberOfQuestions}} x {{sectionMarks}})
          = {{sectionTotalMarks}}
        </div>
      </div>

      <ol class="question-list">
        {{#questions}}
        <li>
          <span class="question-text">
            {{{question}}}
          </span>

          {{#isMCQ}}
            <ol class="mcq-options" type="A">
              {{#options}}
                <li>{{{option}}}</li>
              {{/options}}
            </ol>
          {{/isMCQ}}
        </li>
        {{/questions}}
      </ol>
    {{/sections}}
    
    <!-- Optionally trigger MathJax on DOMContentLoaded -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        MathJax.typeset();
      });
    </script>
  </body>
</html>
